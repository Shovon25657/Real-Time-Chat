<!-- dashboard.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - Chat System</title>
  <style>
    /* Copy the base styles from login.html */
    .dashboard-container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .welcome-section {
        text-align: center;
        margin-bottom: 2rem;
    }

    .link-section {
        background: #f8fafc;
        padding: 1.5rem;
        border-radius: 8px;
        margin-bottom: 1.5rem;
    }

    .link-container {
        display: flex;
        gap: 1rem;
        align-items: center;
        margin-top: 1rem;
    }

    .link-display {
        flex: 1;
        padding: 0.75rem;
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 5px;
        font-size: 0.875rem;
        color: #4a5568;
    }

    .copy-button {
        padding: 0.75rem 1.5rem;
        background: #4a90e2;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: background 0.3s;
    }

    .copy-button:hover {
        background: #357abd;
    }

    .nav-buttons {
        display: flex;
        gap: 1rem;
        margin-top: 2rem;
    }

    .nav-button {
        flex: 1;
        padding: 0.75rem;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1rem;
        transition: background 0.3s;
    }

    .chat-button {
        background: #4a90e2;
        color: white;
    }

    .logout-button {
        background: #ef4444;
        color: white;
    }

    .chat-button:hover {
        background: #357abd;
    }

    .logout-button:hover {
        background: #dc2626;
    }
  </style>
</head>
<body>
<div class="dashboard-container">
  <div class="welcome-section">
    <h1>Welcome <span id="userName"></span></h1>
    <p>Business: <span id="businessInfo"></span></p>
  </div>

  <div class="link-section">
    <h2>Your Chat Link</h2>
    <button id="generateLink" class="auth-button">Generate Link</button>
    <div class="link-container" id="linkContainer" style="display: none;">
      <div class="link-display" id="linkDisplay">
        https://shovon25657.github.io/Net-Project-Deploy/
      </div>
      <button class="copy-button" id="copyLink">Copy Link</button>
    </div>
  </div>

  <div class="nav-buttons">
    <button class="nav-button chat-button" id="goToChat">Go to Chat</button>
    <button class="nav-button logout-button" id="logout">Logout</button>
  </div>
</div>

<script>
  // Check if user is logged in
  const currentUser = JSON.parse(localStorage.getItem('currentUser'));
  if (!currentUser) {
      window.location.href = 'login.html';
  }

  // Update user info
  document.getElementById('userName').textContent = `${currentUser.firstName} ${currentUser.lastName}`;
  document.getElementById('businessInfo').textContent = `${currentUser.businessName} (${currentUser.businessCategory})`;

  // Generate link button
  document.getElementById('generateLink').addEventListener('click', function() {
      document.getElementById('linkContainer').style.display = 'flex';
  });

  // Copy link button
  document.getElementById('copyLink').addEventListener('click', function() {
      const linkText = document.getElementById('linkDisplay').textContent.trim();
      navigator.clipboard.writeText(linkText)
          .then(() => alert('Link copied to clipboard!'))
          .catch(err => console.error('Failed to copy:', err));
  });

  // Navigation buttons
  document.getElementById('goToChat').addEventListener('click', function() {
      window.location.href = 'https://shovon25657.github.io/Net-Project-Deploy/'; // Your existing chat page
  });

  document.getElementById('logout').addEventListener('click', function() {
      localStorage.removeItem('currentUser');
      window.location.href = 'login.html';
  });
</script>
</body>
</html>